---
title: json格式简析
date: 2017-04-04 12:02:11
tags:
categories: 杂烩
---

> 参考文章：[数据类型和Json格式](http://www.ruanyifeng.com/blog/2009/05/data_types_and_json.html)



## json 格式

从结构上来看，所有的数据（data）最终都可以分解成三种类型：

> 第一种类型是**标量**（scalar），也就是一个单独的字符串（string）或数字（numbers），比如“北京”这个单独的词。

> 第二类型是**序列**（sequence），也激素hi若干个相关的数据按照一定顺序并列在一起，又叫做数组（array）或列表（List），比如“北京，上海”。

> 第三种类型是映射（mapping），也激素hi一个名/值对（name/value），即数据有一个名称，还有一个与之相对应的值，这又称作散列（hash）或字典（dictionary），比如“首都：北京”。

json是基于这三种类型定义的一种简单易懂的数据结构，用来存储和解析数据。

<!--more-->

下面是json的四条规则：



1. **并列的数据之间**用逗号（","）分隔。
2. **映射**用冒号（":"）表示。
3. **并列数据的集合**（即数组）用方括号（"[]"）表示。
4. **映射的集合**（即对象）用大括号（"{}"）表示。



举个例子，比如下面这句话：

> "北京市的面积为16800平方公里，常住人口1600万人。
>
> 
>
> 上海市的面积为6400平方公里，常住人口1800万。"



如果用json来表示的话，就是这样（①）：

```json
[
	{"城市":"北京","面积":16800,"人口":1600}，
	{"城市":"上海","面积":6400,"人口":1800}
]
```

还可以进一步的简化（②）：

```json
[
	["北京",16800,1600]，
	["上海",6400,1800]
]
```



从上面的表示中，有一个问题，第一种方法（①），映射的集合为什么用大括号表示，而不用方括号表示。对象也是映射的集合，某种意义上也是数组（同类数据的集合）



## 数组和对象的区别

### 区别一

"数组"(array)和"对象"(object)的根本区别在哪里，两者都可以用来表示数据的集合。

比如有一个数组a=[1,2,3,4]，还有一个对象a={0:1,1:2,2:3,3:4}，然后你运行alert(a[1])，两种情况下的运行结果是相同的！这就是说，数据集合既可以用数组表示，也可以用对象表示，那么我到底该用哪一种呢？

我后来才知道，**数组表示有序数据的集合，而对象表示无序数据的集合。如果数据的顺序很重要，就用数组，否则就用对象。**(来自阮一峰)



### 区别二

数组和对象的另一个区别是，数组的数据没有”名称“（name），对象的数据有”名称“（name）。



但是，很多编程语言中，都有一种叫做”关联数组“（associative array）的数据结构。这种数组的数据也是有名称的。



**那关联数组和对象有有什么区别呢？**



在javascript中，定义一个对象

```javascript
var a ={"城市":"北京","面积":16800,"入口":1600};
```

但是，也可以定义成一个关联数组：

```javascript
a["城市"] = "北京"；
a["面积"] = 16800;
a["人口"] = 1600;
```

**在Javascript语言中，关联数组就是对象，对象就是关联数组。**



这一点与php语言完全不同，**在php中,关联数组也是数组**。



比如运行下面这段javascript：

```javascript
 var a=[1,2,3,4];

 a['foo']='Hello World';

 alert(a.length);
```

最后的结果是4，也就是说，数组a的元素个数是4个。

但是，运行同样内容的php代码就不一样了：
```php
<?php
$a=array(1,2,3,4);

$a["foo"]="Hello world";

echo count($a);
?>
```
最后的结果是5，也就是说，数组a的元素个数是5个。