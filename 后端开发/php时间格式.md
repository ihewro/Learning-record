---
title: php时间格式
date: 2017-04-16 10:02:49
tags:
---

## date()

data()函数是PHP中最常用的一个获取时间的函数。

语法：

```php
date(string format,int timestmp)
```

含有两个参数，第一个参数是`格式字符串`，第二个参数是`UNIX时间戳`，第二个参数是可选的。如果为空，则按照格式返回当前日期和时间。

<!--more-->

### 格式字符串

英文为`format`，和C语言中的`printf`里面的**格式控制串**类似，用来控制时间输出格式的。

举例：2017年4月16日 17:44:21

#### 年（year）

| 代码   | 描述               |
| ---- | ---------------- |
| Y    | 四位数字表示年份，如“2017” |
| y    | 两位数字表示年份，如“17”   |

#### 月（month）

| 代码   | 描述                    |
| ---- | --------------------- |
| m    | **有前导** ，两位数字表示，如“04” |
| n    | **无前导** ，数字表示，如“4”    |
| M    | 三个缩略英文单词表示，如“Apr”     |
| F    | 全称的英文单词表示，如“April”    |

#### 日（day）

| 代码   | 描述                    |
| ---- | --------------------- |
| d    | **有前导** ，两位数字表示，如“16” |
| j    | **无前导** ，数字表示，如“4”    |

#### 时（time）

| 代码   | 描述                   |
| ---- | -------------------- |
| H    | **有前导** ，24小时制，如"17" |
| G    | **无前导** ，24小时制，如"17" |
| h    | **有前导** ，12小时制，如"05" |
| g    | **无前导** ，12小时制，如“5”  |

#### 分（minute）

| 代码   | 描述                    |
| ---- | --------------------- |
| i    | **有前导** ，两位数字表示，如“43” |


#### 秒（second）

| 代码   | 描述                    |
| ---- | --------------------- |
| s    | **有前导** ，两位数字表示，如“21” |

#### 星期（week）

| 代码   | 描述                  |
| ---- | ------------------- |
| w    | 单个数字表示，如“0”（星期日）    |
| D    | 三个缩略英文单词表示，如“Sun”   |
| l    | 全称的英文单词表示，如“Sunday” |

#### 其他

| 代码   | 描述                                       |
| ---- | ---------------------------------------- |
| a    | 表示上午或者下午，用“am”或者“pm”                     |
| A    | 表示上午或者下午，用“AM”或者“PM”                     |
| c    | ISO 8601日期。日期格式为YYYY-MM-DD**T**HH:MM:SS+XX:XX |



### unix时间戳(timestmp)

#### 时间戳概念

时间戳是指 格林威治时间（1970年01月01日00时00分00秒）（北京时间的1970年01月01日08时00分00秒）起到现在（仍然是以格林威治时间为标准）的总秒数。

换句话说，时间戳就是两个时间的秒数差。

例如现在北京时间为2017年4月16日 11时57分48秒 ，时间戳就是1492336668

#### 时间戳的优点

1. 时间戳没有时区概念，比如用“2017年4月16日 11时57分48秒”表示时间的话，北京时间和美国因为时区不同，时间是不一样的。但是时间戳都是以格林威治时间为标准的，所以是唯一的。
2. **时间戳在各种编程语言中都能够存储与转换。**

#### 时间戳的获取函数

##### mktime()

语法：

```php
mktime(hour,minute,second,month,day,year,is_dst)
```

用途是将一个**指定的日期和时间**转化成UNIX时间戳。

一共7个参数，前三个为**时分秒**，后三个为**月日年**

~~参数`is_dst`表示该日期是否为夏令时，如果是，设置该值为1，否则，设置为0，不知道，则设置为-1（此时PHP会根据所运行的系统来判断）。~~（PHP 5.1.0 + 废弃）

可以从**参数的右边**开始遗漏参数的值，则表示使用当前的时间。

##### time()

time() 没有任何参数，返回的是当前日期时间的UNIX时间戳。 

##### date("U")

date()使用U参数，则返回的是当前日期时间的UNIX时间戳。 


## strftime()

和date()函数差不多，也是格式化时间戳按照一定格式返回时间和日期的。

语法：

```php
date(string format,int timestmp)
```

第二个参数也是可选的，如果为空，则调用的是当前系统时间的时间戳，返回当前的时间和日期。

### 格式化字符串

唯一区别不同的是，**格式化字符串定义有些不同。**

举例：2017年4月16日 17:44:21

#### 年（year）

| 代码   | 描述               |
| ---- | ---------------- |
| %Y   | 四位数字表示年份，如“2017” |
| %y   | 两位数字表示年份，如“17”   |

#### 月（month）

| 代码    | 描述                           |
| ----- | ---------------------------- |
| %m    | **有前导** ，两位数字表示，如“04”(00~12) |
|       | **无前导** ，数字表示，如“4”           |
| %b或%h | 三个缩略英文单词表示，如“Apr”            |
| %B    | 全称的英文单词表示，如“April”           |

#### 日（day）

| 代码   | 描述                           |
| ---- | ---------------------------- |
| %d   | **有前导** ，两位数字表示，如“16”(01~31) |
| %e   | **无前导** ，数字表示，如“4”(1~31)     |

#### 时（time）

| 代码   | 描述                          |
| ---- | --------------------------- |
| %H   | **有前导** ，24小时制，如"17"(00~23) |
|      | **无前导** ，24小时制，如"17"        |
|      | **有前导** ，12小时制，如"05"        |
| %I   | **无前导** ，12小时制，如“5”(1~12)   |

#### 分（minute）

| 代码   | 描述                           |
| ---- | ---------------------------- |
| %M   | **有前导** ，两位数字表示，如“43”(00~59) |


#### 秒（second）

| 代码   | 描述                           |
| ---- | ---------------------------- |
| %S   | **有前导** ，两位数字表示，如“21”(00~59) |

#### 星期（week）

| 代码   | 描述                    |
| ---- | --------------------- |
| %u   | 单个数字表示，如“7”（星期日）(1-7) |
| %A   | 三个缩略英文单词表示，如“Sun”     |
| %a   | 全称的英文单词表示，如“Sunday”   |

#### 其他

| 代码   | 描述                                       |
| ---- | ---------------------------------------- |
| %p   | am或者pm                                   |
| %r   | a.m.或者p.m.                               |
| %c   | ISO 8601日期。日期格式为YYYY-MM-DD**T**HH:MM:SS+XX:XX |
| %T   | hh:ss:mm 格式的时间                           |
| %D   | 缩写格式的日期。日期格式为mm/dd/yy                    |
| %x   | 标准格式的日期，没有时间                             |
| %X   | 标准格式的日期，没有日期                             |
|      |                                          |



## getdate()

语法：

```php
getdate(int timestmp)
```

\<timestmp>是可选参数，如果为空，则调用当前时间戳。

函数返回的是一个关联数组。（键值对）

| 关键字     | 值       |
| ------- | ------- |
| year    | 年       |
| month   | 月,英文全称  |
| mon     | 月，数字    |
| mday    | 日       |
| hours   | 时       |
| minutes | 分       |
| seconds | 秒       |
| wday    | 星期，数字   |
| weekday | 星期，英文全称 |



## checkdate()

检查日期是否有效。

语法：

```php
checkdate(int month,int day,int year)
```

返回 true 和 false。

