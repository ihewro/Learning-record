## 手动创建活动

1. 在`com.hewro.activitytest`包中右键创建新的活动，重点是重写该活动的`onCreat()`方法
2. 在`app/src/main/res` 新建`layout`目录，右键`Layout resource file` 新建布局文件
3. 在布局文件中，修改布局
4. 在AndroidManifest.xml文件中注册：配置主活动。

在`<activity>`标签内部加入`<intent-filter>`标签。



### 在活动中使用toast

在活动中，可以通过`findeViewById()`方法获取到布局文件中定义的元素，这里我们传入`R.id.button_1`，来得到按钮的实例，这个值是刚才在first_layout.xml中通过`android:id`属性制定的。

`findViewById()`方法返回的是一个View对象，我们需要向下转型将他转成Butoon对象。得到按钮的实例后，我们通过调用setOnClickListener()方法为按钮注册一个监听器，点击按钮就会执行监听器中的Onclick()方法。



### 在活动中使用menu

1. res目录中新建`menu`目录
2. 在`menu`目录新建`Menu resource file`，在该文件中写组件内容
3. 回到活动的firstactivy.java 文件中重写`onCreatOptionMenu()`方法，再重写`onOptionsItemSelected()`方法，写item被选择时候的方法




### 在活动中使用intent

由主活动跳转到其他活动



intent 是 Android 程序中各组件之间进行交互的一种重要方式，它不仅可以指明当前组件想要执行的动作，还可以在不同组件之间传递数据。intent一般可被用于**启用活动、启动服务以及发送广播**等场景。

intent 分为两种：

- 显式intent
- 隐式intent



#### 使用显式intent

intent 有多个构造函数的重载，其中一个是`Intent(Context packageContext, Class<?>cls)`。这个构造函数接收两个参数，第一个参数**Context要求提供一个启动活动的上下文**，第二个参数**Class则是制定想要启用的目标活动**，通过这个构造函数就可以构建出Intent的“意图”。

然后我们应该怎么使用这个Intent呢？

Activity 类中提供了一个`startActivity()`的方法：

这个方法专门用于启动活动的。它接收一个`Intent`参数，这里我们将构建好的`Intent`传入`startActivity()`方法即可启动目标活动了。



#### 使用隐式Intent

通过在`<activity>`标签下配置`<intent-filter>`的内容，而是通过**指定当前活动能够响应的action和category等信息**，然后交由系统分析这个Intent，并帮我们找出合适的活动去启动。

如，在`androidManifest.xml`添加：

```xml
<activity android:name=".SecondActivity">
            <intent-filter>
                <action android:name="com.hewro.activitytest.ACTION_START"></action>
                <category android:name="android.intent.category.DEFAULT"></category>
            </intent-filter>
</activity>
```

然后修改FirstActivity 中的按钮的点击事件，代码如下所示：

```java
Intent intent = new Intent("com.ihewro.activitytest.ACTION_START");
startActivity(intent);
```

这样，点击FirstActivity里面的按钮，就会匹配到SecondActivity了。

一个Intent 只能指定一个`action`名称，但是能够指定多个`category`名称。

**总结**：一个活动可以通过指定一个action名称，和多个category名称，以便别的活动通过隐式Intent进行匹配切换。



显式Intent就是一个活动中直接指定另一个调用的活动名称。

```java
Intent intent = new Intent(<启用活动的上下文>,<目标活动的class>)
```

隐式Intent在创建Intent的时候不会直接指定需要启动的活动的名称，而是通过匹配其他活动的action和category名称。

```java
Intent intent = new Intent (<匹配活动的action的名称>);
  intent.addCategory(<匹配活动的category的名称>);
```

最后

```java
startActivity(intent);
```



#### 更多隐式Intent的用法

使用隐式的Intent**不仅可以启动自己程序内的活动，还可以启动其他程序的活动**。

比如，点击按钮启动系统的浏览器打开网页。

```java
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse("https://www.ihewro.com"));
startActivity(intent);
```



`Intent.ACTION_VIEW`是Android系统内置的一个动作。

`setData`函数参数是一个Uri对象，用来指定当前Intent正在操作的数据。这些数据通常都是以字符串的形式传入到`Uri.parse()`方法中解析产生的。

其他的活动，也可以在`androidManifest.xml`指定活动的action 名称为Intent.ACTION_VIEW，让他也能响应打开网页的Intent。

响应打开网页的Intent时候，还可以指定匹配的活动能够响应什么类型的数据：

在`<intent-filter>`标签中再配置一个`<data>`标签。



#### 向下一个活动传递数据

 在一个活动里面启用另一个活动，还可以传递数据。

Intent 中提供了一系列的`putExtra()`方法的重载，可以把我们想要传递的数据暂存在Intent中，启用了另一个活动后，只需要把这些数据再从Intent中取出就可以了。

`putExtra()`需要接收两个参数：第一个参数是键，用于后面从Intent中取值，第二个参数是真正要传递的数据。

传递数据之后，需要在被启动的活动中取出数值：

```
Intent intent = getIntent();
String data = intent.getStingExtra("extra_data");
```



#### 返回数据给上一个活动

